import{g as Q,a as Z,s as ee,r as N,u as se,_ as te,b as y,a5 as ne,a2 as oe,E as re,j as i,c as ae,e as ie,X as L,a6 as ce,a7 as E,Y as w,a8 as B,n as le,P as ue,T as de}from"./index-N2L6V-pB.js";import{A as me,a as fe,d as pe,b as he}from"./ExpandMore-BRHykjJl.js";import"./useSlot-DrazVV6U.js";import"./createSvgIcon-BvUIs5gc.js";function ge(e){return Q("MuiMasonry",e)}Z("MuiMasonry",["root"]);const ye=["children","className","component","columns","spacing","sequential","defaultColumns","defaultHeight","defaultSpacing"],d=e=>Number(e.replace("px","")),xe={flexBasis:"100%",width:0,margin:0,padding:0},be=e=>{const{classes:t}=e;return ie({root:["root"]},ge,t)},Ce=({ownerState:e,theme:t})=>{let r={width:"100%",display:"flex",flexFlow:"column wrap",alignContent:"flex-start",boxSizing:"border-box","& > *":{boxSizing:"border-box"}};const u={};if(e.isSSR){const n={},s=d(t.spacing(e.defaultSpacing));for(let o=1;o<=e.defaultColumns;o+=1)n[`&:nth-of-type(${e.defaultColumns}n+${o%e.defaultColumns})`]={order:o};return u.height=e.defaultHeight,u.margin=-(s/2),u["& > *"]=y({},r["& > *"],n,{margin:s/2,width:`calc(${(100/e.defaultColumns).toFixed(2)}% - ${s}px)`}),y({},r,u)}const a=L({values:e.spacing,breakpoints:t.breakpoints.values}),x=ce(t);r=E(r,w({theme:t},a,n=>{let s;if(typeof n=="string"&&!Number.isNaN(Number(n))||typeof n=="number"){const o=Number(n);s=B(x,o)}else s=n;return y({margin:`calc(0px - (${s} / 2))`,"& > *":{margin:`calc(${s} / 2)`}},e.maxColumnHeight&&{height:typeof s=="number"?Math.ceil(e.maxColumnHeight+d(s)):`calc(${e.maxColumnHeight}px + ${s})`})}));const c=L({values:e.columns,breakpoints:t.breakpoints.values});return r=E(r,w({theme:t},c,n=>{const o=`${(100/Number(n)).toFixed(2)}%`,h=typeof a=="string"&&!Number.isNaN(Number(a))||typeof a=="number"?B(x,Number(a)):"0px";return{"& > *":{width:`calc(${o} - ${h})`}}})),typeof a=="object"&&(r=E(r,w({theme:t},a,(n,s)=>{if(s){const o=Number(n),h=Object.keys(c).pop(),$=B(x,o);return{"& > *":{width:`calc(${`${(100/(typeof c=="object"?c[s]||c[h]:c)).toFixed(2)}%`} - ${$})`}}}return null}))),r},Me=ee("div",{name:"MuiMasonry",slot:"Root",overridesResolver:(e,t)=>[t.root]})(Ce),Ne=N.forwardRef(function(t,r){const u=se({props:t,name:"MuiMasonry"}),{children:a,className:x,component:O="div",columns:c=4,spacing:v=1,sequential:n=!1,defaultColumns:s,defaultHeight:o,defaultSpacing:h}=u,$=te(u,ye),m=N.useRef(),[F,U]=N.useState(),A=!F&&o&&s!==void 0&&h!==void 0,[W,q]=N.useState(A?s-1:0),P=y({},u,{spacing:v,columns:c,maxColumnHeight:F,defaultColumns:s,defaultHeight:o,defaultSpacing:h,isSSR:A}),D=be(P),T=N.useCallback(f=>{if(!m.current||!f||f.length===0)return;const l=m.current,S=m.current.firstChild,V=l.clientWidth,_=S.clientWidth;if(V===0||_===0)return;const z=window.getComputedStyle(S),X=d(z.marginLeft),Y=d(z.marginRight),R=Math.round(V/(_+X+Y)),b=new Array(R).fill(0);let C=!1,M=1;l.childNodes.forEach(p=>{if(p.nodeType!==Node.ELEMENT_NODE||p.dataset.class==="line-break"||C)return;const k=window.getComputedStyle(p),J=d(k.marginTop),K=d(k.marginBottom),H=d(k.height)?Math.ceil(d(k.height))+J+K:0;if(H===0){C=!0;return}for(let g=0;g<p.childNodes.length;g+=1){const j=p.childNodes[g];if(j.tagName==="IMG"&&j.clientHeight===0){C=!0;break}}if(!C)if(n)b[M-1]+=H,p.style.order=M,M+=1,M>R&&(M=1);else{const g=b.indexOf(Math.min(...b));b[g]+=H;const j=g+1;p.style.order=j}}),C||ne.flushSync(()=>{U(Math.max(...b)),q(R>0?R-1:0)})},[n]);oe(()=>{if(typeof ResizeObserver>"u")return;let f;const l=new ResizeObserver(()=>{f=requestAnimationFrame(T)});return m.current&&m.current.childNodes.forEach(S=>{l.observe(S)}),()=>{f&&window.cancelAnimationFrame(f),l&&l.disconnect()}},[c,v,a,T]);const I=re(r,m),G=new Array(W).fill("").map((f,l)=>i.jsx("span",{"data-class":"line-break",style:y({},xe,{order:l+1})},l));return i.jsxs(Me,y({as:O,className:ae(D.root,x),ref:I,ownerState:P},$,{children:[a,G]}))}),Se=[150,30,90,70,110,150,130,80,50,90,100,150,30,50,80],$e=()=>i.jsx(le,{sx:{width:500,minHeight:400},children:i.jsx(Ne,{columns:4,spacing:1,children:Se.map((e,t)=>i.jsx(ue,{sx:{border:"1px solid"},children:i.jsxs(me,{sx:{minHeight:e},children:[i.jsx(fe,{expandIcon:i.jsx(pe,{}),children:i.jsxs(de,{children:["Accordion ",t+1]})}),i.jsx(he,{children:"Content"})]})},t))})});export{$e as default};
